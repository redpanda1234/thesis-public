\documentclass{standalone}
\usepackage{tikz}

\begin{document}
\begin{tikzpicture}[every node/.style={scale=.75, circle, draw, fill=none,
    inner sep=0pt, text width=1.75em, align=center}, scale=4]

  \def\drawshit{
    \node[fill=black!80!white, text=white] (1) at (1, 0) {$1$};
    \node[ultra thin] (1uin) at (0.7, 0.0) {$1_u^{\rm in}$};
    \node[ultra thin] (1uout) at (1.3, 0.0) {$1_u^{\rm out}$};
    \node[fill=black!80!white, text=white] (1oin) at (1.0, 0.3) {$1_o^{\rm in}$};
    \node[fill=black!80!white, text=white] (1oout) at (1.0, -0.3) {$1_o^{\rm out}$};
    \draw[line width=3pt, black!80!white] (1oin) -- (1) -- (1oout);
    \draw[double, double distance=3pt] (1uout) -- (1) -- (1uin);
    \draw[black!80!white, dotted, thick] (1uin) -- (1oin) (1uout) -- (1oout) (1uin) -- (1oout) (1uout) -- (1oin);
    \node[fill=black!80!white, text=white] (2) at (2, 0) {$2$};
    \node[ultra thin] (2uin) at (2.0, -0.3) {$2_u^{\rm in}$};
    \node[ultra thin] (2uout) at (2.0, 0.3) {$2_u^{\rm out}$};
    \node[fill=black!80!white, text=white] (2oin) at (1.7, 0.0) {$2_o^{\rm in}$};
    \node[fill=black!80!white, text=white] (2oout) at (2.3, 0.0) {$2_o^{\rm out}$};
    \draw[line width=3pt, black!80!white] (2oin) -- (2) -- (2oout);
    \draw[double, double distance=3pt] (2uout) -- (2) -- (2uin);
    \draw[black!80!white, dotted, thick] (2uin) -- (2oin) (2uout) -- (2oout) (2uin) -- (2oout) (2uout) -- (2oin);
    \node[fill=black!80!white, text=white] (3) at (3, 0) {$3$};
    \node[ultra thin] (3uin) at (2.7, 0.0) {$3_u^{\rm in}$};
    \node[ultra thin] (3uout) at (3.3, 0.0) {$3_u^{\rm out}$};
    \node[fill=black!80!white, text=white] (3oin) at (3.0, 0.3) {$3_o^{\rm in}$};
    \node[fill=black!80!white, text=white] (3oout) at (3.0, -0.3) {$3_o^{\rm out}$};
    \draw[line width=3pt, black!80!white] (3oin) -- (3) -- (3oout);
    \draw[double, double distance=3pt] (3uout) -- (3) -- (3uin);
    \draw[black!80!white, dotted, thick] (3uin) -- (3oin) (3uout) -- (3oout) (3uin) -- (3oout) (3uout) -- (3oin);
    \draw[black!80!white, line width=1.5pt]  (0, 0) -- (1uin)  (1uout) -- (2oin)  (2oout) -- (3uin)  (3uout) -- (4, 0) -- (4, 1) -- (1, 1) -- (1oin)  (1oout) -- (1, -.5) -- (2, -.5) -- (2uin)  (2uout) -- (2, .5) -- (3, .5) -- (3oin)  (3oout) -- (3, -.5) -- (4.5, -.5) -- (4.5,0) -- (5, 0) ;
  }

  \begin{scope}
    \drawshit
  \end{scope}

  \draw[dashed] (0, -2.5em) -- (5, -2.5em);

  \begin{scope}[yshift=-5em, yscale=-1]
    \drawshit
  \end{scope}

\end{tikzpicture}
\end{document}
